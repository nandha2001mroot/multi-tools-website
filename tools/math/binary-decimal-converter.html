<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary to Decimal Converter - MultiTools</title>
    <meta name="description" content="Convert between binary and decimal numbers. Free binary to decimal converter tool.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="../../css/style.css" rel="stylesheet">
</head>
<body>
    <div id="header-placeholder"></div>

    <div class="container tool-container">
        <div class="tool-header">
            <h1><i class="fas fa-code text-warning"></i> Binary to Decimal Converter</h1>
            <p class="tool-description">Convert between binary and decimal number systems instantly.</p>
        </div>

        <div class="row">
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-calculator"></i> Converter</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="conversionType" class="form-label">Conversion Type:</label>
                            <select class="form-select" id="conversionType">
                                <option value="binaryToDecimal">Binary to Decimal</option>
                                <option value="decimalToBinary">Decimal to Binary</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="inputNumber" class="form-label">Enter Number:</label>
                            <input type="text" class="form-control" id="inputNumber" placeholder="Enter number">
                        </div>
                        
                        <button class="btn btn-warning w-100" id="convertBtn">
                            <i class="fas fa-exchange-alt"></i> Convert
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-calculator"></i> Result</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="resultNumber" class="form-label">Result:</label>
                            <input type="text" class="form-control" id="resultNumber" readonly>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Conversion Steps:</label>
                            <div class="border rounded p-3 bg-light" id="stepsContainer">
                                <p class="text-muted">Conversion steps will appear here</p>
                            </div>
                        </div>
                        
                        <div class="d-flex gap-2">
                            <button class="btn btn-success w-100" id="copyBtn">
                                <i class="fas fa-copy"></i> Copy Result
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-header">
                <h5><i class="fas fa-info-circle"></i> Number Systems</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>Binary System (Base 2):</h6>
                        <ul>
                            <li>Uses only 0 and 1</li>
                            <li>Base of digital computers</li>
                            <li>Each digit is called a bit</li>
                            <li>Example: 1011₂ = 11₁₀</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>Decimal System (Base 10):</h6>
                        <ul>
                            <li>Uses digits 0-9</li>
                            <li>Most commonly used number system</li>
                            <li>Positional number system</li>
                            <li>Example: 11₁₀ = 1011₂</li>
                        </ul>
                    </div>
                </div>
                
                <div class="alert alert-info mt-3">
                    <h6>Conversion Formulas:</h6>
                    <p><strong>Binary to Decimal:</strong> Multiply each bit by its power of 2 position</p>
                    <p><strong>Decimal to Binary:</strong> Divide by 2 and record remainders</p>
                </div>
            </div>
        </div>
    </div>

    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../js/main.js"></script>
    <script>
        loadHeaderFooter();

        const conversionType = document.getElementById('conversionType');
        const inputNumber = document.getElementById('inputNumber');
        const resultNumber = document.getElementById('resultNumber');
        const convertBtn = document.getElementById('convertBtn');
        const copyBtn = document.getElementById('copyBtn');
        const stepsContainer = document.getElementById('stepsContainer');

        function convertNumber() {
            const type = conversionType.value;
            const input = inputNumber.value.trim();
            
            if (!input) {
                alert('Please enter a number!');
                return;
            }

            let result = '';
            let steps = '';

            if (type === 'binaryToDecimal') {
                // Validate binary input
                if (!/^[01]+$/.test(input)) {
                    alert('Please enter a valid binary number (0s and 1s only)!');
                    return;
                }

                // Convert binary to decimal
                let decimal = 0;
                let stepsArray = [];
                
                for (let i = 0; i < input.length; i++) {
                    const bit = parseInt(input[input.length - 1 - i]);
                    const power = Math.pow(2, i);
                    const value = bit * power;
                    decimal += value;
                    stepsArray.push(`${bit} × 2<sup>${i}</sup> = ${bit} × ${power} = ${value}`);
                }
                
                result = decimal.toString();
                steps = `<p><strong>Binary to Decimal Conversion:</strong></p>
                         <p>${input}<sub>2</sub> = ${result}<sub>10</sub></p>
                         <p><strong>Steps:</strong></p>
                         <ul>${stepsArray.reverse().map(step => `<li>${step}</li>`).join('')}</ul>
                         <p><strong>Total:</strong> ${decimal}</p>`;
                
            } else {
                // Validate decimal input
                if (!/^\d+$/.test(input)) {
                    alert('Please enter a valid decimal number!');
                    return;
                }

                const decimal = parseInt(input);
                let binary = '';
                let temp = decimal;
                let stepsArray = [];
                
                if (decimal === 0) {
                    binary = '0';
                    stepsArray.push('0 ÷ 2 = 0 remainder 0');
                } else {
                    while (temp > 0) {
                        const remainder = temp % 2;
                        const quotient = Math.floor(temp / 2);
                        stepsArray.push(`${temp} ÷ 2 = ${quotient} remainder ${remainder}`);
                        binary = remainder + binary;
                        temp = quotient;
                    }
                }
                
                result = binary;
                steps = `<p><strong>Decimal to Binary Conversion:</strong></p>
                         <p>${input}<sub>10</sub> = ${result}<sub>2</sub></p>
                         <p><strong>Steps:</strong></p>
                         <ul>${stepsArray.map(step => `<li>${step}</li>`).join('')}</ul>
                         <p><strong>Binary Result:</strong> ${binary}</p>`;
            }

            resultNumber.value = result;
            stepsContainer.innerHTML = steps;
        }

        convertBtn.addEventListener('click', convertNumber);
        inputNumber.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                convertNumber();
            }
        });

        copyBtn.addEventListener('click', function() {
            if (resultNumber.value) {
                ToolUtils.copyToClipboard(resultNumber.value);
            }
        });

        // Initial setup
        conversionType.addEventListener('change', function() {
            const label = document.querySelector('label[for="inputNumber"]');
            if (this.value === 'binaryToDecimal') {
                label.textContent = 'Enter Binary Number:';
                inputNumber.placeholder = 'Enter binary number (e.g., 1011)';
            } else {
                label.textContent = 'Enter Decimal Number:';
                inputNumber.placeholder = 'Enter decimal number (e.g., 11)';
            }
            resultNumber.value = '';
            stepsContainer.innerHTML = '<p class="text-muted">Conversion steps will appear here</p>';
        });

        trackToolUsage('Binary to Decimal Converter');
    </script>
</body>
</html>